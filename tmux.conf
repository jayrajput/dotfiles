# Ring the bell if any background window rang a bell
# set -g bell-action any

# Default termtype. If the rcfile sets $TERM, that overrides this value.
# set -g default-terminal screen-256color

# Watch for activity in background windows
# setw -g monitor-activity on

# Keep your finger on ctrl, or don't
# bind-key ^D detach-client
# bind-key ^D detach-client
bind-key ^B last-window
# bind-key ^C new-window
# use bash when creating new window.
bind-key c new-window bash

# Create splits and vertical splits
# bind-key v split-window -h
# bind-key ^V split-window -h
# bind-key s split-window
# bind-key ^S split-window

# Pane resize in all four directions using vi bindings.
# Can use these raw but I map them to Cmd-Opt-<h,j,k,l> in iTerm2.
# http://tangledhelix.com/blog/2012/04/28/iterm2-keymaps-for-tmux/
# bind-key J resize-pane -D
# bind-key K resize-pane -U
# bind-key H resize-pane -L
# bind-key L resize-pane -R

# bind-key j previous-window

# Use vi keybindings for tmux commandline input.
# Note that to get command mode you need to hit ESC twice...
set -g status-keys vi

# Use vi keybindings in copy and choice modes
setw -g mode-keys vi

# Vim-style copy/paste
# unbind [
# bind y copy-mode
# unbind p
# bind p paste-buffer
# bind -t vi-copy H start-of-line
# bind -t vi-copy L end-of-line
# bind -t vi-copy v begin-selection
# bind -t vi-copy y copy-selection
# bind -t vi-copy Escape cancel

# easily toggle synchronization (mnemonic: e is for echo)
# sends input to all panes in a given window.
# bind e setw synchronize-panes on
# bind E setw synchronize-panes off

# set first window to index 1 (not 0) to map more to the keyboard layout...
# set -g base-index 1

# + and - "zoom" and "unzoom" a pane.
# + breaks a pane out to its own window
# - restores a broken-out pane to being a pane

unbind +
#bind + new-window -d -n tmux-zoom 'clear && echo TMUX ZOOM && read' \; swap-pane -s tmux-zoom.0 \; select-window -t tmux-zoom
bind + break-pane

unbind -
bind - join-pane -t 0.0

# Geload tmux config
unbind r
bind r source-file ~/.tmux.conf \; display 'Reloaded tmux config.'

set -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on
set -g mouse-select-window on

# Toggle mouse on
bind m set -g mode-mouse on \; set -g mouse-resize-pane on \; set -g mouse-select-pane on \; set -g mouse-select-window on \; display 'Mouse: ON'

# Toggle mouse off
bind M set -g mode-mouse off \; set -g mouse-resize-pane off \; set -g mouse-select-pane off \; set -g mouse-select-window off \; display 'Mouse: OFF'

# pass through xterm keys
# set -g xterm-keys on

# Panes 
# xmonad like setting to move through the panes:
#unbind j
#unbind k
bind -r h select-pane -L
bind -r k select-pane -U
bind -r j select-pane -D
bind -r l select-pane -R

# resize panes
bind -r H resize-pane -L 10 
bind -r L resize-pane -R 10
bind -r J resize-pane -D 10
bind -r K resize-pane -U 10


set -g main-pane-width 110
